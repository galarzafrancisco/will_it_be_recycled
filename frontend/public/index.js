"use strict";var takePictureButton=document.getElementById("takePictureButton"),screenshotButton=document.getElementById("takeScreenshot"),img=document.getElementById("screenshotImage"),video=document.getElementById("videoPlayer"),canvas=document.createElement("canvas"),constraints={video:{facingMode:"environment"}};takePictureButton.onclick=function(){navigator.mediaDevices.getUserMedia(constraints).then(handleSuccess).catch(handleError)},video.onclick=function(){canvas.width=video.videoWidth,canvas.height=video.videoHeight,canvas.getContext("2d").drawImage(video,0,0),img.src=canvas.toDataURL("image/webp"),video.srcObject.getVideoTracks().forEach(function(e){return e.stop()}),video.hidden=!0,document.getElementById("imageLoadingSpinner").className+=" is-active",canvas.toBlob(analyseImage,"image/jpeg",1)};var returnHomeButton=document.getElementById("returnHomeButton"),closeResultsPageButton=document.getElementById("closeResultsPageButton");function imageAnalysed(e){document.getElementById("imageLoadingSpinner").className=document.getElementById("imageLoadingSpinner").className.replace(" is-active",""),document.getElementById("cameraPanel").className="camera-panel",canvas.remove(),video.hidden=!1,document.getElementById("resultIcon").className="material-icons result-icon ".concat(e),document.getElementById("resultPanel").className="result-panel-active"}function handleSuccess(e){document.getElementById("cameraPanel").className="camera-panel-active",video.srcObject=e}function handleError(e){console.log("ops, not working...",e)}returnHomeButton.onclick=closeResultsPageButton.onclick=function(){document.getElementById("resultPanel").className="result-panel"};